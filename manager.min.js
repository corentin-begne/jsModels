var ManagerModel;!function(){"use strict";ManagerModel=function(n){function e(){function e(e){t.actionModel=e,isDefined(n)&&n(t)}ActionModel.getInstance(e)}var t=this;extendSingleton(ManagerModel),this.container=$("body"),require(["/bower_components/cb-models/action.min.js"],e)},ManagerModel.getInstance=function(n){return isDefined(n)?void getSingleton(ManagerModel,n):getSingleton(ManagerModel)},ManagerModel.prototype.getVars=function(n){function e(n,e){t[$(e).attr("id")]=$(e).html().trim(),$(e).remove()}var t={};return $(n).find(".varInterface").each(e),t},ManagerModel.prototype.init=function(n){function e(n,e){function a(n){function a(e){n["class"]=e,i()}function i(){function a(a){n.fn=isDefined(n.fn)?n.fn:"action",$(e).is("[preventDefault]")&&a.preventDefault(),$(e).is("[stopPropagation]")&&a.stopPropagation(),isDefined(t[n.fn])&&t[n.fn](e,n,a)}isDefined(n.type)||(n.type="click"),"init"===n.type?t[n.fn](e,n,event):($(e).unbind(n.type),$(e).bind(n.type,a))}isDefined(n["class"])&&window[n["class"]].getInstance(a),i()}var i=$(e).is("[action-data]")?$.parseJSON($(e).attr("action-data")):{};$.isArray(i)?i.forEach(a):a(i)}var t=this;this.container=isDefined(n)?n:$("body"),t.container.find(".action").each(e)},ManagerModel.prototype.autocompletion=function(n,e,t){e.data.container=$(n),e.data.cbFind=e["class"][e.data.cbFind].bind(e["class"]),e.data.cbSelect=e["class"][e.data.cbSelect].bind(e["class"]),isDefined(e.data.cbBlur)&&(e.data.cbBlur=e["class"][e.data.cbBlur].bind(e["class"])),new AutocompletionHelper(e.data)},ManagerModel.prototype.action=function(n,e,t){isDefined(e["class"])&&isDefined(e["class"][e.name])&&e["class"][e.name](n,t,e)},ManagerModel.prototype.pagination=function(n,e,t){e["class"].pagination=new PaginationHelper({nbPage:e.data.nbPage,container:n,cb:e["class"][e.data.cbContent].bind(e["class"])})},ManagerModel.prototype.closeInterface=function(n,e,t){$(n).parents("interface").remove()},ManagerModel.prototype.getInterface=function(n,e,t){function a(){function n(n){$("body").append("<interface id='"+o+"'></interface>"),$("interface#"+o).append(n),i.init($("interface#"+o))}i.actionModel.getHtml(e.path,e,n)}var i=this,o=e.path.split("/");o=ucfirst(o[1])+ucfirst(o[0])+"Manager",$(n).is("[modal]")&&$("interface#"+o).remove(),isDefined(window[o])?a():(loadCss(basePath+"css/"+e.path+"/main.css"),require([basePath+"js/"+e.path+"/manager.min.js"],a))},ManagerModel.prototype.redirect=function(n,e,t){this.actionModel.redirect(e.data.path,$(n).attr("type"))}}();