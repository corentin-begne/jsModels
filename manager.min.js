var ManagerModel;!function(){"use strict";ManagerModel=function(e){function t(){function t(t){n.actionModel=t,isDefined(e)&&e(n)}ActionModel.getInstance(t)}var n=this;extendSingleton(ManagerModel),this.container=$("body"),require(["/bower_components/cb-models/action.min.js"],t)},ManagerModel.getInstance=function(e){return isDefined(e)?void getSingleton(ManagerModel,e):getSingleton(ManagerModel)},ManagerModel.prototype.getVars=function(e){function t(e,t){n[$(t).attr("id")]=$(t).html().trim(),$(t).remove()}var n={};return $(e).find(".varInterface").each(t),n},ManagerModel.prototype.init=function(e){function t(e,t){function a(e){function a(t){e["class"]=t,i()}function i(){function a(a){e.fn=isDefined(e.fn)?e.fn:"action",$(t).is("[preventDefault]")&&a.preventDefault(),$(t).is("[stopPropagation]")&&a.stopPropagation(),isDefined(n[e.fn])&&n[e.fn](t,e,a)}isDefined(e.type)||(e.type="click"),"init"===e.type?n[e.fn](t,e,event):($(t).unbind(e.type),$(t).bind(e.type,a))}isDefined(e["class"])?window[e["class"]].getInstance(a):i()}var i=$(t).is("[action-data]")?$.parseJSON($(t).attr("action-data")):{};$.isArray(i)?i.forEach(a):a(i)}var n=this;this.container=isDefined(e)?e:$("body"),n.container.find(".action").each(t)},ManagerModel.prototype.autocompletion=function(e,t,n){t.data.container=$(e),t.data.cbFind=t["class"][t.data.cbFind].bind(t["class"]),t.data.cbSelect=t["class"][t.data.cbSelect].bind(t["class"]),isDefined(t.data.cbBlur)&&(t.data.cbBlur=t["class"][t.data.cbBlur].bind(t["class"])),new AutocompletionHelper(t.data)},ManagerModel.prototype.action=function(e,t,n){isDefined(t["class"])&&isDefined(t["class"][t.name])&&t["class"][t.name](e,n,t)},ManagerModel.prototype.pagination=function(e,t,n){t["class"].pagination=new PaginationHelper({nbPage:t.data.nbPage,container:e,cb:t["class"][t.data.cbContent].bind(t["class"])})},ManagerModel.prototype.closeInterface=function(e,t,n){$(e).parents("interface").remove()},ManagerModel.prototype.getPartial=function(e,t,n){function a(a){"error"===a?window.location.href="/":($(t.target).html(a),i.init($(t.target)),i.action(e,t,n))}var i=this;this.actionModel.getHtml(t.path,t,a)},ManagerModel.prototype.getInterface=function(e,t,n){function a(){function a(a){if("error"===a)window.location.href="/";else{var r=t.target||"body";t.target&&$(r).empty(),$(r).append("<interface id='"+o+"'></interface>"),$("interface#"+o).append(a),i.init($("interface#"+o)),i.action(e,t,n)}}i.actionModel.getHtml(t.path,t,a)}var i=this,o=t.path.split("/");o=ucfirst(o[1])+ucfirst(o[0]),$("interface#"+o).remove(),$(e).is("[modal]")&&$("interface").remove(),isDefined(window[o+"Manager"])?a():(loadCss(basePath+"css/"+t.path+"/main.css"),require([basePath+"js/"+t.path+"/manager.min.js"],a))},ManagerModel.prototype.redirect=function(e,t,n){this.actionModel.redirect(t.data.path,$(e).attr("type"))}}();