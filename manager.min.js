var ManagerModel;!function(){"use strict";ManagerModel=function(e){function n(){function n(n){t.actionModel=n,isDefined(e)&&e(t)}ActionModel.getInstance(n)}var t=this;extendSingleton(ManagerModel),this.container=$("body"),require(["/bower_components/cb-models/action.min.js"],n)},ManagerModel.getInstance=function(e){return isDefined(e)?void getSingleton(ManagerModel,e):getSingleton(ManagerModel)},ManagerModel.prototype.getVars=function(e){function n(e,n){t[$(n).attr("id")]=$(n).html().trim(),$(n).remove()}var t={};return $(e).find(".varInterface").each(n),t},ManagerModel.prototype.init=function(e){function n(e,n){function a(e){function a(n){e["class"]=n,i()}function i(){function a(a){e.fn=isDefined(e.fn)?e.fn:"action",$(n).is("[preventDefault]")&&a.preventDefault(),$(n).is("[stopPropagation]")&&a.stopPropagation(),isDefined(t[e.fn])&&t[e.fn](n,e,a)}isDefined(e.type)||(e.type="click"),"init"===e.type?t[e.fn](n,e,event):($(n).unbind(e.type),$(n).bind(e.type,a))}isDefined(e["class"])?window[e["class"]].getInstance(a):i()}var i=$(n).is("[action-data]")?$.parseJSON($(n).attr("action-data")):{};$.isArray(i)?i.forEach(a):a(i)}var t=this;this.container=isDefined(e)?e:$("body"),t.container.find(".action").each(n)},ManagerModel.prototype.autocompletion=function(e,n,t){n.data.container=$(e),n.data.cbFind=n["class"][n.data.cbFind].bind(n["class"]),n.data.cbSelect=n["class"][n.data.cbSelect].bind(n["class"]),isDefined(n.data.cbBlur)&&(n.data.cbBlur=n["class"][n.data.cbBlur].bind(n["class"])),new AutocompletionHelper(n.data)},ManagerModel.prototype.action=function(e,n,t){isDefined(n["class"])&&isDefined(n["class"][n.name])&&n["class"][n.name](e,t,n)},ManagerModel.prototype.pagination=function(e,n,t){n["class"].pagination=new PaginationHelper({nbPage:n.data.nbPage,container:e,cb:n["class"][n.data.cbContent].bind(n["class"])})},ManagerModel.prototype.closeInterface=function(e,n,t){$(e).parents("interface").remove()},ManagerModel.prototype.getPartial=function(e,n,t){function a(a){$(n.target).html(a),i.init($(n.target)),i.action(e,n,t)}var i=this;this.actionModel.getHtml(n.path,n,a)},ManagerModel.prototype.getInterface=function(e,n,t){function a(){function a(a){$("body").append("<interface id='"+o+"'></interface>"),$("interface#"+o).append(a),i.init($("interface#"+o)),i.action(e,n,t)}i.actionModel.getHtml(n.path,n,a)}var i=this,o=n.path.split("/");o=ucfirst(o[1])+ucfirst(o[0]),$("interface#"+o).remove(),$(e).is("[modal]")&&$("interface").remove(),isDefined(window[o+"Manager"])?a():(loadCss(basePath+"css/"+n.path+"/main.css"),require([basePath+"js/"+n.path+"/manager.min.js"],a))},ManagerModel.prototype.redirect=function(e,n,t){this.actionModel.redirect(n.data.path,$(e).attr("type"))}}();