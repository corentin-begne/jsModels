var AutocompletionHelper;!function(){"use strict";AutocompletionHelper=function(e){this._typingSpeed=300,this._fadeSpeed=150,this["class"]=isDefined(e["class"])?e["class"]:"",this.restrict=isDefined(e.restrict)?e.restrict:!1,this.placeholder=isDefined(e.placeholder)?e.placeholder:"",this.attr=isDefined(e.attr)?e.attr:"",this.id=isDefined(e.id)?"id='"+e.id+"'":"",this.container=e.container,this.find=e.cbFind,this.blur=e.cbBlur,this.select=e.cbSelect,this.init()},AutocompletionHelper.prototype.init=function(){function e(){clearTimeout(a),n(),""!==$(this).val()&&(isDefined(r.blur)&&r.blur(c.find(".result:eq(0)")),$(this).val(""),c.empty())}function t(e){function t(e){var t;t=0===n.length?c.find(".result:"+("prev"===e?"last":"first")):n[e](),t.length>0&&(n.removeClass("selected"),t.addClass("selected"))}d=!1;var i=c.find(".result"),n=c.find(".result.selected"),s=$(this).val();if(0!==i.length){switch(e.keyCode){case 38:d=!0,t("prev");break;case 40:d=!0,t("next");break;case 13:0!==n.length&&(d=!0,n.mousedown())}if(d)return e.preventDefault(),e.stopPropagation(),!1}return r.restrict||13!==e.keyCode||""===s?void 0:(r.select($("<div>"+s+"</div>"),r.container),$(this).val(""),c.hide().empty(),e.preventDefault(),e.stopPropagation(),!1)}function i(e){function t(){function e(e){function t(e){function t(){r.select($(this),r.container),l.val(""),c.hide().empty()}function i(){c.find(".selected").removeClass("selected")}var n=$(e);n.mouseenter(i),n.mousedown(t),c.append(n)}e.forEach(t),e.length>0&&""!==l.val()?c.fadeIn(r._fadeSpeed):n(),o=!0}o=!1,c.empty(),r.find(l.val(),e,r.container)}return!o||d||37===e.keyCode||39===e.keyCode?!1:""===l.val()?(clearTimeout(a),c.fadeOut(r._fadeSpeed,c.empty),!1):(clearTimeout(a),void(a=setTimeout(t,r._typingSpeed)))}function n(){c.fadeOut(r._fadeSpeed)}function s(){c.find(".result").length>0&&""!==l.val()&&c.fadeIn(r._fadeSpeed)}var a,r=this,o=!0,d=!1;this.container.append("<div><input autocomplete='off' class='"+this["class"]+"' "+this.attr+" "+this.id+" type='text' /></div><div class='resultContainer'></div>");var l=this.container.find("input");l.attr("placeholder",this.placeholder);{var c=this.container.find(".resultContainer");this.container.find(".icon-search")}l.keydown(t),l.keyup(i),l.blur(e),l.focus(s)}}();